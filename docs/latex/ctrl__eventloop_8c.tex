\section{controller/ctrl\_\-eventloop.c File Reference}
\label{ctrl__eventloop_8c}\index{controller/ctrl\_\-eventloop.c@{controller/ctrl\_\-eventloop.c}}
{\ttfamily \#include \char`\"{}controller.h\char`\"{}}\par
{\ttfamily \#include $<$stdio.h$>$}\par
{\ttfamily \#include $<$errno.h$>$}\par
Include dependency graph for ctrl\_\-eventloop.c:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{ctrl__eventloop_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf controller\_\-packet\_\-callback} ({\bf upk\_\-conn\_\-handle\_\-meta\_\-t} $\ast$clients, {\bf upk\_\-payload\_\-t} $\ast$)
\item 
static void {\bf accept\_\-conn} (int32\_\-t listen\_\-sock, {\bf upk\_\-conn\_\-handle\_\-meta\_\-t} $\ast$clients)
\item 
void {\bf event\_\-loop} (int32\_\-t listen\_\-sock)
\item 
int32\_\-t {\bf ctrl\_\-sock\_\-setup} ()
\item 
void {\bf handle\_\-signals} (void)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{ctrl\_\-eventloop.c@{ctrl\_\-eventloop.c}!accept\_\-conn@{accept\_\-conn}}
\index{accept\_\-conn@{accept\_\-conn}!ctrl_eventloop.c@{ctrl\_\-eventloop.c}}
\subsubsection[{accept\_\-conn}]{\setlength{\rightskip}{0pt plus 5cm}static void accept\_\-conn (
\begin{DoxyParamCaption}
\item[{int32\_\-t}]{listen\_\-sock, }
\item[{{\bf upk\_\-conn\_\-handle\_\-meta\_\-t} $\ast$}]{clients}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [static]}}\label{ctrl__eventloop_8c_a18b56a5bfd7cf9021f97306a90c82387}


References controller\_\-packet\_\-callback(), and upk\_\-net\_\-add\_\-socket\_\-handle().



Referenced by event\_\-loop().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{ctrl__eventloop_8c_a18b56a5bfd7cf9021f97306a90c82387_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=290pt]{ctrl__eventloop_8c_a18b56a5bfd7cf9021f97306a90c82387_icgraph}
\end{center}
\end{figure}


\index{ctrl\_\-eventloop.c@{ctrl\_\-eventloop.c}!controller\_\-packet\_\-callback@{controller\_\-packet\_\-callback}}
\index{controller\_\-packet\_\-callback@{controller\_\-packet\_\-callback}!ctrl_eventloop.c@{ctrl\_\-eventloop.c}}
\subsubsection[{controller\_\-packet\_\-callback}]{\setlength{\rightskip}{0pt plus 5cm}void controller\_\-packet\_\-callback (
\begin{DoxyParamCaption}
\item[{{\bf upk\_\-conn\_\-handle\_\-meta\_\-t} $\ast$}]{clients, }
\item[{{\bf upk\_\-payload\_\-t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\label{ctrl__eventloop_8c_a741093d702f88c44f02aa5fbbd20f3b7}


References \_\-upk\_\-conn\_\-handle::cl\_\-name, upk\_\-req\_\-preamble\_\-t::client\_\-name, upk\_\-req\_\-preamble\_\-t::max\_\-supported\_\-ver, upk\_\-req\_\-preamble\_\-t::min\_\-supported\_\-ver, upk\_\-packet\_\-t::payload, \_\-upk\_\-payload::payload, reload\_\-buddy\_\-svc(), \_\-upk\_\-payload\_\-types::req\_\-action, \_\-upk\_\-payload\_\-types::req\_\-preamble, start\_\-buddy\_\-svc(), stop\_\-buddy\_\-svc(), \_\-upk\_\-controller\_\-config::svclist, \_\-upk\_\-payload::type, upk\_\-create\_\-repl\_\-preamble(), upk\_\-create\_\-repl\_\-result(), upk\_\-create\_\-req\_\-disconnect(), upk\_\-debug1, UPK\_\-MAX\_\-STRING\_\-LEN, UPK\_\-MAX\_\-SUPPORTED\_\-PROTO, UPK\_\-MIN\_\-SUPPORTED\_\-PROTO, upk\_\-net\_\-shutdown\_\-callback(), upk\_\-pkt\_\-free(), upk\_\-queue\_\-packet(), UPK\_\-REQ\_\-ACTION, UPK\_\-REQ\_\-DISCONNECT, UPK\_\-REQ\_\-PREAMBLE, upk\_\-runtime\_\-configuration, upk\_\-svc\_\-desc\_\-meta\_\-t, and UPKLIST\_\-FOREACH.



Referenced by accept\_\-conn().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{ctrl__eventloop_8c_a741093d702f88c44f02aa5fbbd20f3b7_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{ctrl__eventloop_8c_a741093d702f88c44f02aa5fbbd20f3b7_icgraph}
\end{center}
\end{figure}


\index{ctrl\_\-eventloop.c@{ctrl\_\-eventloop.c}!ctrl\_\-sock\_\-setup@{ctrl\_\-sock\_\-setup}}
\index{ctrl\_\-sock\_\-setup@{ctrl\_\-sock\_\-setup}!ctrl_eventloop.c@{ctrl\_\-eventloop.c}}
\subsubsection[{ctrl\_\-sock\_\-setup}]{\setlength{\rightskip}{0pt plus 5cm}int32\_\-t ctrl\_\-sock\_\-setup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{ctrl__eventloop_8c_a99ec2dc98ec87d268558702166162e9d}


References \_\-upk\_\-controller\_\-config::controller\_\-socket, IF\_\-UPK\_\-ERROR, UPK\_\-ERR\_\-INIT, UPK\_\-FUNC\_\-ASSERT, UPK\_\-FUNC\_\-ASSERT\_\-MSG, upk\_\-runtime\_\-configuration, and UPK\_\-SOCKET\_\-FAILURE.



Referenced by main().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{ctrl__eventloop_8c_a99ec2dc98ec87d268558702166162e9d_icgraph}
\end{center}
\end{figure}


\index{ctrl\_\-eventloop.c@{ctrl\_\-eventloop.c}!event\_\-loop@{event\_\-loop}}
\index{event\_\-loop@{event\_\-loop}!ctrl_eventloop.c@{ctrl\_\-eventloop.c}}
\subsubsection[{event\_\-loop}]{\setlength{\rightskip}{0pt plus 5cm}void event\_\-loop (
\begin{DoxyParamCaption}
\item[{int32\_\-t}]{listen\_\-sock}
\end{DoxyParamCaption}
)}\label{ctrl__eventloop_8c_afcb5edca8881b0c26ccbc120775ed38b}


References accept\_\-conn(), \_\-upk\_\-controller\_\-config::BuddyPollingInterval, handle\_\-buddies(), handle\_\-signals(), upk\_\-conn\_\-handle\_\-meta\_\-t, upk\_\-debug1, upk\_\-net\_\-conn\_\-handle\_\-init(), upk\_\-net\_\-event\_\-dispatcher(), upk\_\-net\_\-flush\_\-closed\_\-sockets(), upk\_\-runtime\_\-configuration, and UPKLIST\_\-FREE.



Referenced by main().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{ctrl__eventloop_8c_afcb5edca8881b0c26ccbc120775ed38b_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=182pt]{ctrl__eventloop_8c_afcb5edca8881b0c26ccbc120775ed38b_icgraph}
\end{center}
\end{figure}


\index{ctrl\_\-eventloop.c@{ctrl\_\-eventloop.c}!handle\_\-signals@{handle\_\-signals}}
\index{handle\_\-signals@{handle\_\-signals}!ctrl_eventloop.c@{ctrl\_\-eventloop.c}}
\subsubsection[{handle\_\-signals}]{\setlength{\rightskip}{0pt plus 5cm}void handle\_\-signals (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{ctrl__eventloop_8c_ad90d54275c3f302332ac0724037f3371}


Referenced by event\_\-loop().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{ctrl__eventloop_8c_ad90d54275c3f302332ac0724037f3371_icgraph}
\end{center}
\end{figure}


