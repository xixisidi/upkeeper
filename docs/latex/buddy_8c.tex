\section{controller/buddy.c File Reference}
\label{buddy_8c}\index{controller/buddy.c@{controller/buddy.c}}
{\ttfamily \#include \char`\"{}buddy.h\char`\"{}}\par
{\ttfamily \#include $<$assert.h$>$}\par
{\ttfamily \#include $<$stdarg.h$>$}\par
{\ttfamily \#include $<$upkeeper/upk\_\-error.h$>$}\par
Include dependency graph for buddy.c:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c__incl}
\end{center}
\end{figure}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define {\bf BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC}~1
\item 
\#define {\bf BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC}~0
\item 
\#define {\bf BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC}~1
\item 
\#define {\bf BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC}~0
\item 
\#define {\bf RESPAWN\_\-WINDOW}~5
\item 
\#define {\bf MAX\_\-RESPAWN\_\-COUNT}~10
\item 
\#define {\bf RESPAWN\_\-RATELIMIT}~300
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf buddy\_\-init} ({\bf diag\_\-output\_\-callback\_\-t} logger)
\item 
int32\_\-t {\bf buddy\_\-event\_\-loop} (void)
\item 
void {\bf buddy\_\-cleanup} (void)
\item 
static void {\bf buddy\_\-init\_\-paths} (void)
\item 
static char $\ast$ {\bf buddy\_\-path} (const char $\ast$suffixfmt,...)
\item 
static void {\bf buddy\_\-init\_\-socket} (void)
\item 
static bool {\bf buddy\_\-phone\_\-home} (void)
\item 
static void {\bf buddy\_\-record\_\-state} (void)
\item 
static void {\bf buddy\_\-zero\_\-info} (void)
\item 
static void {\bf buddy\_\-init\_\-ringbuffer} (void)
\item 
static void {\bf buddy\_\-free\_\-ringbuffer} (void)
\item 
static void {\bf buddy\_\-accept} (void)
\item 
static int {\bf buddy\_\-build\_\-fd\_\-set} (fd\_\-set $\ast$socks, bool listen\_\-sock)
\item 
static bool {\bf buddy\_\-handle\_\-flags} (void)
\item 
static void {\bf buddy\_\-stop\_\-proc} (void)
\item 
static void {\bf buddy\_\-reload\_\-proc} (void)
\item 
static void {\bf buddy\_\-cust\_\-action} (uint32\_\-t act\_\-num)
\item 
static void {\bf buddy\_\-handle\_\-command} (void)
\item 
static void {\bf buddy\_\-setreguid} (void)
\item 
static void {\bf buddy\_\-setup\_\-fds} (void)
\item 
static int32\_\-t {\bf read\_\-ctrl} ({\bf buddy\_\-cmnd\_\-t} $\ast$buf)
\item 
static int32\_\-t {\bf write\_\-ctrl} ({\bf buddy\_\-info\_\-t} $\ast$buf)
\item 
static pid\_\-t {\bf buddy\_\-exec\_\-action} (void)
\item 
static bool {\bf buddy\_\-start\_\-proc} (void)
\item 
static void {\bf resolve\_\-symlink} (void)
\item 
static void {\bf buddy\_\-flush\_\-ringbuffer} (void)
\item 
static void {\bf sa\_\-sigaction\_\-func} (int signal, siginfo\_\-t $\ast$siginfo, void $\ast$ucontext)
\item 
void {\bf commit\_\-buddycide} (int32\_\-t signum)
\item 
static bool {\bf buddy\_\-disconnect} (size\_\-t count)
\item 
static void {\bf phone\_\-home\_\-if\_\-appropriate} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
{\bf upk\_\-uuid\_\-t} {\bf buddy\_\-uuid}
\item 
char $\ast$ {\bf buddy\_\-service\_\-name} = NULL
\item 
char {\bf buddy\_\-root\_\-path} [BUDDY\_\-MAX\_\-PATH\_\-LEN] = DEFAULT\_\-BUDDY\_\-ROOT
\item 
uid\_\-t {\bf buddy\_\-setuid}
\item 
gid\_\-t {\bf buddy\_\-setgid}
\item 
size\_\-t {\bf ringbuffer\_\-size} = 32
\item 
char $\ast$$\ast$ {\bf proc\_\-envp} = NULL
\item 
long {\bf reconnect\_\-retries} = 5
\item 
bool {\bf randomize\_\-ratelimit} = false
\item 
uint32\_\-t {\bf user\_\-ratelimit} = 0
\item 
static time\_\-t {\bf respawn\_\-timestamp} = 0
\item 
static uint32\_\-t {\bf rapid\_\-respawn\_\-count} = 0
\item 
static bool {\bf force\_\-ratelimit} = false
\item 
static size\_\-t {\bf ringbuffer\_\-pending} = 0
\item 
static bool {\bf chld\_\-terminated} = false
\item 
static pid\_\-t {\bf proc\_\-pid} = 0
\item 
static {\bf buddy\_\-cmnd\_\-t} {\bf last\_\-command} = UPK\_\-CTRL\_\-NONE
\item 
static {\bf buddy\_\-cmnd\_\-t} {\bf this\_\-command} = UPK\_\-CTRL\_\-NONE
\item 
static int {\bf buddy\_\-shutdown} = 0
\item 
static {\bf buddy\_\-info\_\-t} $\ast$ {\bf info\_\-ringbuffer} = NULL
\item 
static int {\bf buddy\_\-sockfd} = -\/1
\item 
static int {\bf buddy\_\-ctrlfd} = -\/1
\item 
static char {\bf buddy\_\-path\_\-buf} [BUDDY\_\-MAX\_\-PATH\_\-LEN] = \char`\"{}\char`\"{}
\item 
static char {\bf buddy\_\-path\_\-prefix} [BUDDY\_\-MAX\_\-PATH\_\-LEN] = \char`\"{}\char`\"{}
\item 
static char {\bf buddy\_\-string\_\-buf} [BUDDY\_\-MAX\_\-PATH\_\-LEN] = \char`\"{}\char`\"{}
\item 
static struct sockaddr\_\-un {\bf buddy\_\-sockaddr} = \{ 0 \}
\item 
static socklen\_\-t {\bf buddy\_\-sockaddr\_\-len} = 0
\item 
static int {\bf sockopts} = 0
\item 
static int {\bf highest\_\-fd} = 0
\item 
static struct timeval {\bf timeout} = \{.tv\_\-sec = BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC,.tv\_\-usec = BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC \}
\item 
static struct timespec {\bf nanotimeout} = \{.tv\_\-sec = BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC,.tv\_\-nsec = BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC \}
\item 
static size\_\-t {\bf ncount} = 0
\item 
static {\bf buddy\_\-runstate\_\-t} {\bf desired\_\-state} = BUDDY\_\-STOPPED
\end{DoxyCompactItemize}


\subsection{Define Documentation}
\index{buddy.c@{buddy.c}!BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC@{BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC}}
\index{BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC@{BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC}!buddy.c@{buddy.c}}
\subsubsection[{BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC}]{\setlength{\rightskip}{0pt plus 5cm}\#define BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC~0}\label{buddy_8c_a374adc6ab83d41ad69c660812a5e3854}
\index{buddy.c@{buddy.c}!BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC@{BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC}}
\index{BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC@{BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC}!buddy.c@{buddy.c}}
\subsubsection[{BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC}]{\setlength{\rightskip}{0pt plus 5cm}\#define BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC~1}\label{buddy_8c_a597f1456de2807772248521856a6ca1c}
\index{buddy.c@{buddy.c}!BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC@{BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC}}
\index{BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC@{BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC}!buddy.c@{buddy.c}}
\subsubsection[{BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC}]{\setlength{\rightskip}{0pt plus 5cm}\#define BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC~1}\label{buddy_8c_a626b2fe03c7debfb60486ae00bf30ce1}


Referenced by buddy\_\-event\_\-loop(), read\_\-ctrl(), and write\_\-ctrl().

\index{buddy.c@{buddy.c}!BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC@{BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC}}
\index{BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC@{BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC}!buddy.c@{buddy.c}}
\subsubsection[{BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC}]{\setlength{\rightskip}{0pt plus 5cm}\#define BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC~0}\label{buddy_8c_a02e1de4ca64638af47b09371b68039e4}


Referenced by buddy\_\-event\_\-loop(), read\_\-ctrl(), and write\_\-ctrl().

\index{buddy.c@{buddy.c}!MAX\_\-RESPAWN\_\-COUNT@{MAX\_\-RESPAWN\_\-COUNT}}
\index{MAX\_\-RESPAWN\_\-COUNT@{MAX\_\-RESPAWN\_\-COUNT}!buddy.c@{buddy.c}}
\subsubsection[{MAX\_\-RESPAWN\_\-COUNT}]{\setlength{\rightskip}{0pt plus 5cm}\#define MAX\_\-RESPAWN\_\-COUNT~10}\label{buddy_8c_a3330b9685fba5fbf699f348210aca3d0}


Referenced by buddy\_\-start\_\-proc().

\index{buddy.c@{buddy.c}!RESPAWN\_\-RATELIMIT@{RESPAWN\_\-RATELIMIT}}
\index{RESPAWN\_\-RATELIMIT@{RESPAWN\_\-RATELIMIT}!buddy.c@{buddy.c}}
\subsubsection[{RESPAWN\_\-RATELIMIT}]{\setlength{\rightskip}{0pt plus 5cm}\#define RESPAWN\_\-RATELIMIT~300}\label{buddy_8c_adab61537d85775a79c1fb0492057d37e}


Referenced by buddy\_\-handle\_\-flags(), and buddy\_\-start\_\-proc().

\index{buddy.c@{buddy.c}!RESPAWN\_\-WINDOW@{RESPAWN\_\-WINDOW}}
\index{RESPAWN\_\-WINDOW@{RESPAWN\_\-WINDOW}!buddy.c@{buddy.c}}
\subsubsection[{RESPAWN\_\-WINDOW}]{\setlength{\rightskip}{0pt plus 5cm}\#define RESPAWN\_\-WINDOW~5}\label{buddy_8c_a8b0bab4747bb8d2312a23f4dab4ec48a}


Referenced by buddy\_\-start\_\-proc().



\subsection{Function Documentation}
\index{buddy.c@{buddy.c}!buddy\_\-accept@{buddy\_\-accept}}
\index{buddy\_\-accept@{buddy\_\-accept}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-accept}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-accept (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a212050d7ce21747a29bdd07717001c53}


References buddy\_\-ctrlfd, buddy\_\-sockaddr, buddy\_\-sockaddr\_\-len, buddy\_\-sockfd, sockopts, and upk\_\-debug1.



Referenced by buddy\_\-event\_\-loop().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{buddy_8c_a212050d7ce21747a29bdd07717001c53_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-build\_\-fd\_\-set@{buddy\_\-build\_\-fd\_\-set}}
\index{buddy\_\-build\_\-fd\_\-set@{buddy\_\-build\_\-fd\_\-set}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-build\_\-fd\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}static int buddy\_\-build\_\-fd\_\-set (
\begin{DoxyParamCaption}
\item[{fd\_\-set $\ast$}]{socks, }
\item[{bool}]{listen\_\-sock}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a5a989c286d3d193c6c9784b0f66e18f9}


References buddy\_\-ctrlfd, and buddy\_\-sockfd.



Referenced by buddy\_\-event\_\-loop(), read\_\-ctrl(), and write\_\-ctrl().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a5a989c286d3d193c6c9784b0f66e18f9_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-cleanup@{buddy\_\-cleanup}}
\index{buddy\_\-cleanup@{buddy\_\-cleanup}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-cleanup}]{\setlength{\rightskip}{0pt plus 5cm}void buddy\_\-cleanup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{buddy_8c_ae71e6bfc3369a9182bd124873f3c4c54}


References buddy\_\-flush\_\-ringbuffer(), buddy\_\-free\_\-ringbuffer(), buddy\_\-path(), buddy\_\-service\_\-name, buddy\_\-stop\_\-proc(), and proc\_\-pid.



Referenced by buddy\_\-init(), commit\_\-buddycide(), and main().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ae71e6bfc3369a9182bd124873f3c4c54_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ae71e6bfc3369a9182bd124873f3c4c54_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-cust\_\-action@{buddy\_\-cust\_\-action}}
\index{buddy\_\-cust\_\-action@{buddy\_\-cust\_\-action}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-cust\_\-action}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-cust\_\-action (
\begin{DoxyParamCaption}
\item[{uint32\_\-t}]{act\_\-num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a40221714c58d6dd4fe07c42dd70f3ef8}


References buddy\_\-exec\_\-action(), and buddy\_\-path().



Referenced by buddy\_\-handle\_\-command().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a40221714c58d6dd4fe07c42dd70f3ef8_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a40221714c58d6dd4fe07c42dd70f3ef8_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-disconnect@{buddy\_\-disconnect}}
\index{buddy\_\-disconnect@{buddy\_\-disconnect}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-disconnect}]{\setlength{\rightskip}{0pt plus 5cm}static bool buddy\_\-disconnect (
\begin{DoxyParamCaption}
\item[{size\_\-t}]{count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_ab07b428fcfd43a52fc80958d41187719}


References buddy\_\-ctrlfd, and upk\_\-debug1.



Referenced by buddy\_\-flush\_\-ringbuffer(), read\_\-ctrl(), and write\_\-ctrl().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ab07b428fcfd43a52fc80958d41187719_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-event\_\-loop@{buddy\_\-event\_\-loop}}
\index{buddy\_\-event\_\-loop@{buddy\_\-event\_\-loop}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-event\_\-loop}]{\setlength{\rightskip}{0pt plus 5cm}int32\_\-t buddy\_\-event\_\-loop (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{buddy_8c_ae6ccfa70197441b53a9e94023ee4671c}


References buddy\_\-accept(), buddy\_\-build\_\-fd\_\-set(), buddy\_\-ctrlfd, buddy\_\-flush\_\-ringbuffer(), buddy\_\-handle\_\-command(), buddy\_\-handle\_\-flags(), BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC, BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC, buddy\_\-shutdown, buddy\_\-sockfd, commit\_\-buddycide(), highest\_\-fd, read\_\-ctrl(), this\_\-command, timeout, and upk\_\-debug1.



Referenced by main().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ae6ccfa70197441b53a9e94023ee4671c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{buddy_8c_ae6ccfa70197441b53a9e94023ee4671c_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-exec\_\-action@{buddy\_\-exec\_\-action}}
\index{buddy\_\-exec\_\-action@{buddy\_\-exec\_\-action}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-exec\_\-action}]{\setlength{\rightskip}{0pt plus 5cm}static pid\_\-t buddy\_\-exec\_\-action (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a3e61e516f17cf6184731f66b065a0b69}


References BUDDY\_\-MAX\_\-PATH\_\-LEN, buddy\_\-path\_\-buf, buddy\_\-setreguid(), buddy\_\-setup\_\-fds(), buddy\_\-string\_\-buf, proc\_\-envp, proc\_\-pid, upk\_\-alert, upk\_\-debug0, and upk\_\-notice.



Referenced by buddy\_\-cust\_\-action(), buddy\_\-reload\_\-proc(), buddy\_\-start\_\-proc(), and buddy\_\-stop\_\-proc().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=372pt]{buddy_8c_a3e61e516f17cf6184731f66b065a0b69_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a3e61e516f17cf6184731f66b065a0b69_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-flush\_\-ringbuffer@{buddy\_\-flush\_\-ringbuffer}}
\index{buddy\_\-flush\_\-ringbuffer@{buddy\_\-flush\_\-ringbuffer}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-flush\_\-ringbuffer}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-flush\_\-ringbuffer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a5e3970ccafb2d792b81686ac35a60c54}


References buddy\_\-ctrlfd, buddy\_\-disconnect(), buddy\_\-zero\_\-info(), info\_\-ringbuffer, \_\-buddy\_\-info::next, phone\_\-home\_\-if\_\-appropriate(), \_\-buddy\_\-info::populated, read\_\-ctrl(), \_\-buddy\_\-info::remaining, ringbuffer\_\-pending, this\_\-command, UPK\_\-CTRL\_\-ACK, upk\_\-debug1, and write\_\-ctrl().



Referenced by buddy\_\-cleanup(), and buddy\_\-event\_\-loop().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a5e3970ccafb2d792b81686ac35a60c54_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a5e3970ccafb2d792b81686ac35a60c54_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-free\_\-ringbuffer@{buddy\_\-free\_\-ringbuffer}}
\index{buddy\_\-free\_\-ringbuffer@{buddy\_\-free\_\-ringbuffer}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-free\_\-ringbuffer}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-free\_\-ringbuffer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a881775ce0d44afe1ddf0c9b7d345db51}


References \_\-buddy\_\-info::next, and ringbuffer\_\-size.



Referenced by buddy\_\-cleanup().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a881775ce0d44afe1ddf0c9b7d345db51_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-handle\_\-command@{buddy\_\-handle\_\-command}}
\index{buddy\_\-handle\_\-command@{buddy\_\-handle\_\-command}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-handle\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-handle\_\-command (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_ae672a6a926e25316b74eaed203ca26ec}


References buddy\_\-cust\_\-action(), BUDDY\_\-RANONCE, buddy\_\-reload\_\-proc(), BUDDY\_\-RUNNING, buddy\_\-shutdown, buddy\_\-start\_\-proc(), buddy\_\-stop\_\-proc(), BUDDY\_\-STOPPED, desired\_\-state, last\_\-command, proc\_\-pid, this\_\-command, UPK\_\-CTRL\_\-ACTION\_\-RELOAD, UPK\_\-CTRL\_\-ACTION\_\-RUNONCE, UPK\_\-CTRL\_\-ACTION\_\-START, UPK\_\-CTRL\_\-ACTION\_\-STOP, UPK\_\-CTRL\_\-CUSTOM\_\-ACTION\_\-00, UPK\_\-CTRL\_\-CUSTOM\_\-ACTION\_\-31, UPK\_\-CTRL\_\-SHUTDOWN, UPK\_\-CTRL\_\-SIGNAL\_\-01, UPK\_\-CTRL\_\-SIGNAL\_\-32, UPK\_\-CTRL\_\-STATUS\_\-REQ, upk\_\-debug1, and upk\_\-verbose.



Referenced by buddy\_\-event\_\-loop().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ae672a6a926e25316b74eaed203ca26ec_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=374pt]{buddy_8c_ae672a6a926e25316b74eaed203ca26ec_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-handle\_\-flags@{buddy\_\-handle\_\-flags}}
\index{buddy\_\-handle\_\-flags@{buddy\_\-handle\_\-flags}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-handle\_\-flags}]{\setlength{\rightskip}{0pt plus 5cm}static bool buddy\_\-handle\_\-flags (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_ad3f4ce4d64270a87c808b915f47b5ce2}


References BUDDY\_\-RUNNING, buddy\_\-shutdown, buddy\_\-start\_\-proc(), chld\_\-terminated, desired\_\-state, force\_\-ratelimit, RESPAWN\_\-RATELIMIT, respawn\_\-timestamp, and upk\_\-notice.



Referenced by buddy\_\-event\_\-loop().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ad3f4ce4d64270a87c808b915f47b5ce2_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=352pt]{buddy_8c_ad3f4ce4d64270a87c808b915f47b5ce2_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-init@{buddy\_\-init}}
\index{buddy\_\-init@{buddy\_\-init}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void buddy\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf diag\_\-output\_\-callback\_\-t}}]{logger}
\end{DoxyParamCaption}
)}\label{buddy_8c_a8243634d0b4e7fe2b2ece3c97bbbd060}


References buddy\_\-cleanup(), buddy\_\-ctrlfd, buddy\_\-init\_\-paths(), buddy\_\-init\_\-ringbuffer(), buddy\_\-init\_\-socket(), buddy\_\-setgid, buddy\_\-setuid, buddy\_\-sockfd, sa\_\-sigaction\_\-func(), upk\_\-notice, upk\_\-reg\_\-diag\_\-callback(), upk\_\-verbose, and upk\_\-warn.



Referenced by main().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a8243634d0b4e7fe2b2ece3c97bbbd060_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{buddy_8c_a8243634d0b4e7fe2b2ece3c97bbbd060_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-init\_\-paths@{buddy\_\-init\_\-paths}}
\index{buddy\_\-init\_\-paths@{buddy\_\-init\_\-paths}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-init\_\-paths}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-init\_\-paths (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a4a7fcd2ac2132565a71110b97aef09c9}


References BUDDY\_\-MAX\_\-PATH\_\-LEN, buddy\_\-path\_\-prefix, buddy\_\-root\_\-path, buddy\_\-service\_\-name, strnlen(), upk\_\-fatal, and UPK\_\-MAX\_\-STRING\_\-LEN.



Referenced by buddy\_\-init().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{buddy_8c_a4a7fcd2ac2132565a71110b97aef09c9_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{buddy_8c_a4a7fcd2ac2132565a71110b97aef09c9_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-init\_\-ringbuffer@{buddy\_\-init\_\-ringbuffer}}
\index{buddy\_\-init\_\-ringbuffer@{buddy\_\-init\_\-ringbuffer}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-init\_\-ringbuffer}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-init\_\-ringbuffer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_ae52b66d6f890174e6aada3ec2be81da3}


References \_\-buddy\_\-info::next, ringbuffer\_\-size, and \_\-buddy\_\-info::slot\_\-n.



Referenced by buddy\_\-init().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{buddy_8c_ae52b66d6f890174e6aada3ec2be81da3_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-init\_\-socket@{buddy\_\-init\_\-socket}}
\index{buddy\_\-init\_\-socket@{buddy\_\-init\_\-socket}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-init\_\-socket}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-init\_\-socket (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_aade6680250d2295a4480120419f1f9c1}


References buddy\_\-path(), buddy\_\-sockaddr, buddy\_\-sockaddr\_\-len, buddy\_\-sockfd, and upk\_\-debug0.



Referenced by buddy\_\-init().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{buddy_8c_aade6680250d2295a4480120419f1f9c1_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{buddy_8c_aade6680250d2295a4480120419f1f9c1_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-path@{buddy\_\-path}}
\index{buddy\_\-path@{buddy\_\-path}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}static char $\ast$ buddy\_\-path (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{suffixfmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a7fa6e4de8f5381b5ed8d6d1bc8d74deb}


References buddy\_\-path\_\-buf, buddy\_\-path\_\-prefix, and buddy\_\-string\_\-buf.



Referenced by buddy\_\-cleanup(), buddy\_\-cust\_\-action(), buddy\_\-init\_\-socket(), buddy\_\-phone\_\-home(), buddy\_\-reload\_\-proc(), buddy\_\-setup\_\-fds(), buddy\_\-start\_\-proc(), and buddy\_\-stop\_\-proc().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a7fa6e4de8f5381b5ed8d6d1bc8d74deb_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-phone\_\-home@{buddy\_\-phone\_\-home}}
\index{buddy\_\-phone\_\-home@{buddy\_\-phone\_\-home}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-phone\_\-home}]{\setlength{\rightskip}{0pt plus 5cm}static bool buddy\_\-phone\_\-home (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a664f7a6d18dea51b1260b106a38ebb24}


References buddy\_\-ctrlfd, buddy\_\-path(), buddy\_\-sockaddr, buddy\_\-sockaddr\_\-len, buddy\_\-string\_\-buf, and resolve\_\-symlink().



Referenced by phone\_\-home\_\-if\_\-appropriate().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{buddy_8c_a664f7a6d18dea51b1260b106a38ebb24_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a664f7a6d18dea51b1260b106a38ebb24_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-record\_\-state@{buddy\_\-record\_\-state}}
\index{buddy\_\-record\_\-state@{buddy\_\-record\_\-state}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-record\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-record\_\-state (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_af17b00432a66198a2d8a4c322813d194}


References buddy\_\-zero\_\-info(), \_\-buddy\_\-info::command, desired\_\-state, \_\-buddy\_\-info::desired\_\-state, last\_\-command, \_\-buddy\_\-info::populated, proc\_\-pid, ringbuffer\_\-pending, ringbuffer\_\-size, \_\-buddy\_\-info::service\_\-pid, \_\-buddy\_\-info::timestamp, and upk\_\-debug1.



Referenced by buddy\_\-start\_\-proc(), and sa\_\-sigaction\_\-func().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{buddy_8c_af17b00432a66198a2d8a4c322813d194_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_af17b00432a66198a2d8a4c322813d194_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-reload\_\-proc@{buddy\_\-reload\_\-proc}}
\index{buddy\_\-reload\_\-proc@{buddy\_\-reload\_\-proc}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-reload\_\-proc}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-reload\_\-proc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a3bd758e7c386267ebc66edef87137fa3}


References buddy\_\-exec\_\-action(), buddy\_\-path(), and proc\_\-pid.



Referenced by buddy\_\-handle\_\-command().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a3bd758e7c386267ebc66edef87137fa3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a3bd758e7c386267ebc66edef87137fa3_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-setreguid@{buddy\_\-setreguid}}
\index{buddy\_\-setreguid@{buddy\_\-setreguid}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-setreguid}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-setreguid (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a24d738cbfcd52cc736089bb161cabbff}


References buddy\_\-setgid, and buddy\_\-setuid.



Referenced by buddy\_\-exec\_\-action().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a24d738cbfcd52cc736089bb161cabbff_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-setup\_\-fds@{buddy\_\-setup\_\-fds}}
\index{buddy\_\-setup\_\-fds@{buddy\_\-setup\_\-fds}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-setup\_\-fds}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-setup\_\-fds (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a32791b8ed85c7b3cddafcf8fe9c204c3}


References buddy\_\-path().



Referenced by buddy\_\-exec\_\-action().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{buddy_8c_a32791b8ed85c7b3cddafcf8fe9c204c3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a32791b8ed85c7b3cddafcf8fe9c204c3_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-start\_\-proc@{buddy\_\-start\_\-proc}}
\index{buddy\_\-start\_\-proc@{buddy\_\-start\_\-proc}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-start\_\-proc}]{\setlength{\rightskip}{0pt plus 5cm}static bool buddy\_\-start\_\-proc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a27de7f520d62139c1daa635cbb19be37}


References buddy\_\-exec\_\-action(), buddy\_\-path(), buddy\_\-record\_\-state(), buddy\_\-service\_\-name, force\_\-ratelimit, MAX\_\-RESPAWN\_\-COUNT, \_\-buddy\_\-info::next, proc\_\-pid, rapid\_\-respawn\_\-count, RESPAWN\_\-RATELIMIT, respawn\_\-timestamp, RESPAWN\_\-WINDOW, upk\_\-debug0, and upk\_\-notice.



Referenced by buddy\_\-handle\_\-command(), and buddy\_\-handle\_\-flags().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a27de7f520d62139c1daa635cbb19be37_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a27de7f520d62139c1daa635cbb19be37_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-stop\_\-proc@{buddy\_\-stop\_\-proc}}
\index{buddy\_\-stop\_\-proc@{buddy\_\-stop\_\-proc}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-stop\_\-proc}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-stop\_\-proc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a4b1edbdc726789da8ca825d76581b68f}


References buddy\_\-exec\_\-action(), buddy\_\-path(), nanotimeout, and proc\_\-pid.



Referenced by buddy\_\-cleanup(), and buddy\_\-handle\_\-command().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a4b1edbdc726789da8ca825d76581b68f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a4b1edbdc726789da8ca825d76581b68f_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!buddy\_\-zero\_\-info@{buddy\_\-zero\_\-info}}
\index{buddy\_\-zero\_\-info@{buddy\_\-zero\_\-info}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-zero\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}static void buddy\_\-zero\_\-info (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_abc4198ffc0ecb66ec9eb56b2f3ff07d1}


References \_\-buddy\_\-info::next, \_\-buddy\_\-info::populated, ringbuffer\_\-pending, \_\-buddy\_\-info::slot\_\-n, and upk\_\-debug1.



Referenced by buddy\_\-flush\_\-ringbuffer(), and buddy\_\-record\_\-state().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_abc4198ffc0ecb66ec9eb56b2f3ff07d1_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!commit\_\-buddycide@{commit\_\-buddycide}}
\index{commit\_\-buddycide@{commit\_\-buddycide}!buddy.c@{buddy.c}}
\subsubsection[{commit\_\-buddycide}]{\setlength{\rightskip}{0pt plus 5cm}void commit\_\-buddycide (
\begin{DoxyParamCaption}
\item[{int32\_\-t}]{signum}
\end{DoxyParamCaption}
)}\label{buddy_8c_ab7a98a53dac20e00f111f46389698b1d}


References buddy\_\-cleanup(), and upk\_\-debug1.



Referenced by buddy\_\-event\_\-loop().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ab7a98a53dac20e00f111f46389698b1d_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=348pt]{buddy_8c_ab7a98a53dac20e00f111f46389698b1d_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!phone\_\-home\_\-if\_\-appropriate@{phone\_\-home\_\-if\_\-appropriate}}
\index{phone\_\-home\_\-if\_\-appropriate@{phone\_\-home\_\-if\_\-appropriate}!buddy.c@{buddy.c}}
\subsubsection[{phone\_\-home\_\-if\_\-appropriate}]{\setlength{\rightskip}{0pt plus 5cm}static void phone\_\-home\_\-if\_\-appropriate (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_afc058b3e7bf5b8dfe5f43a8f83808a90}


References buddy\_\-phone\_\-home(), buddy\_\-shutdown, nanotimeout, reconnect\_\-retries, ringbuffer\_\-pending, ringbuffer\_\-size, and upk\_\-verbose.



Referenced by buddy\_\-flush\_\-ringbuffer().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_afc058b3e7bf5b8dfe5f43a8f83808a90_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_afc058b3e7bf5b8dfe5f43a8f83808a90_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!read\_\-ctrl@{read\_\-ctrl}}
\index{read\_\-ctrl@{read\_\-ctrl}!buddy.c@{buddy.c}}
\subsubsection[{read\_\-ctrl}]{\setlength{\rightskip}{0pt plus 5cm}static int32\_\-t read\_\-ctrl (
\begin{DoxyParamCaption}
\item[{{\bf buddy\_\-cmnd\_\-t} $\ast$}]{buf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a042568d6c2f703b98ba73eb6fc7e8edb}


References buddy\_\-build\_\-fd\_\-set(), buddy\_\-ctrlfd, buddy\_\-disconnect(), BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC, BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC, highest\_\-fd, ncount, and timeout.



Referenced by buddy\_\-event\_\-loop(), and buddy\_\-flush\_\-ringbuffer().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{buddy_8c_a042568d6c2f703b98ba73eb6fc7e8edb_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a042568d6c2f703b98ba73eb6fc7e8edb_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!resolve\_\-symlink@{resolve\_\-symlink}}
\index{resolve\_\-symlink@{resolve\_\-symlink}!buddy.c@{buddy.c}}
\subsubsection[{resolve\_\-symlink}]{\setlength{\rightskip}{0pt plus 5cm}static void resolve\_\-symlink (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_aca04c1736459e680420f762c4ca81e84}


References buddy\_\-path\_\-buf, and buddy\_\-string\_\-buf.



Referenced by buddy\_\-phone\_\-home().



Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_aca04c1736459e680420f762c4ca81e84_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!sa\_\-sigaction\_\-func@{sa\_\-sigaction\_\-func}}
\index{sa\_\-sigaction\_\-func@{sa\_\-sigaction\_\-func}!buddy.c@{buddy.c}}
\subsubsection[{sa\_\-sigaction\_\-func}]{\setlength{\rightskip}{0pt plus 5cm}static void sa\_\-sigaction\_\-func (
\begin{DoxyParamCaption}
\item[{int}]{signal, }
\item[{siginfo\_\-t $\ast$}]{siginfo, }
\item[{void $\ast$}]{ucontext}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_ae8769e19667f1be2fc6e8b1a0eef4371}


References buddy\_\-record\_\-state(), buddy\_\-shutdown, chld\_\-terminated, \_\-buddy\_\-info::next, proc\_\-pid, \_\-buddy\_\-info::siginfo, upk\_\-debug1, \_\-buddy\_\-info::wait\_\-pid, and \_\-buddy\_\-info::wait\_\-status.



Referenced by buddy\_\-init().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_ae8769e19667f1be2fc6e8b1a0eef4371_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{buddy_8c_ae8769e19667f1be2fc6e8b1a0eef4371_icgraph}
\end{center}
\end{figure}


\index{buddy.c@{buddy.c}!write\_\-ctrl@{write\_\-ctrl}}
\index{write\_\-ctrl@{write\_\-ctrl}!buddy.c@{buddy.c}}
\subsubsection[{write\_\-ctrl}]{\setlength{\rightskip}{0pt plus 5cm}static int32\_\-t write\_\-ctrl (
\begin{DoxyParamCaption}
\item[{{\bf buddy\_\-info\_\-t} $\ast$}]{buf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline, static]}}\label{buddy_8c_a76b79c47442b30432c9f221b0b18c632}


References buddy\_\-build\_\-fd\_\-set(), buddy\_\-ctrlfd, buddy\_\-disconnect(), BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC, BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC, highest\_\-fd, ncount, and timeout.



Referenced by buddy\_\-flush\_\-ringbuffer().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{buddy_8c_a76b79c47442b30432c9f221b0b18c632_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{buddy_8c_a76b79c47442b30432c9f221b0b18c632_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{buddy.c@{buddy.c}!buddy\_\-ctrlfd@{buddy\_\-ctrlfd}}
\index{buddy\_\-ctrlfd@{buddy\_\-ctrlfd}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-ctrlfd}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf buddy\_\-ctrlfd} = -\/1\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a5d7cb1950bafb84d8b4d88b574640811}


Referenced by buddy\_\-accept(), buddy\_\-build\_\-fd\_\-set(), buddy\_\-disconnect(), buddy\_\-event\_\-loop(), buddy\_\-flush\_\-ringbuffer(), buddy\_\-init(), buddy\_\-phone\_\-home(), read\_\-ctrl(), and write\_\-ctrl().

\index{buddy.c@{buddy.c}!buddy\_\-path\_\-buf@{buddy\_\-path\_\-buf}}
\index{buddy\_\-path\_\-buf@{buddy\_\-path\_\-buf}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-path\_\-buf}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf buddy\_\-path\_\-buf}[BUDDY\_\-MAX\_\-PATH\_\-LEN] = \char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a1eb224a393d00fd9a07b3a6c171e41bb}


Referenced by buddy\_\-exec\_\-action(), buddy\_\-path(), and resolve\_\-symlink().

\index{buddy.c@{buddy.c}!buddy\_\-path\_\-prefix@{buddy\_\-path\_\-prefix}}
\index{buddy\_\-path\_\-prefix@{buddy\_\-path\_\-prefix}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-path\_\-prefix}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf buddy\_\-path\_\-prefix}[BUDDY\_\-MAX\_\-PATH\_\-LEN] = \char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_aab6fb913e9f0fd28fb410b3b877aafae}


Referenced by buddy\_\-init\_\-paths(), and buddy\_\-path().

\index{buddy.c@{buddy.c}!buddy\_\-root\_\-path@{buddy\_\-root\_\-path}}
\index{buddy\_\-root\_\-path@{buddy\_\-root\_\-path}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-root\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf buddy\_\-root\_\-path}[BUDDY\_\-MAX\_\-PATH\_\-LEN] = DEFAULT\_\-BUDDY\_\-ROOT}\label{buddy_8c_a9715b970fd956abacde0cff8a337e0c4}


Referenced by buddy\_\-init\_\-paths(), and opt\_\-parse().

\index{buddy.c@{buddy.c}!buddy\_\-service\_\-name@{buddy\_\-service\_\-name}}
\index{buddy\_\-service\_\-name@{buddy\_\-service\_\-name}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-service\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf buddy\_\-service\_\-name} = NULL}\label{buddy_8c_a46bdaaaea058028488e4a2fa4abcf80b}


Referenced by buddy\_\-cleanup(), buddy\_\-init\_\-paths(), buddy\_\-start\_\-proc(), and opt\_\-parse().

\index{buddy.c@{buddy.c}!buddy\_\-setgid@{buddy\_\-setgid}}
\index{buddy\_\-setgid@{buddy\_\-setgid}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-setgid}]{\setlength{\rightskip}{0pt plus 5cm}gid\_\-t {\bf buddy\_\-setgid}}\label{buddy_8c_a94f0c0963c51ae59585d090bd146267c}


Referenced by buddy\_\-init(), buddy\_\-setreguid(), and opt\_\-parse().

\index{buddy.c@{buddy.c}!buddy\_\-setuid@{buddy\_\-setuid}}
\index{buddy\_\-setuid@{buddy\_\-setuid}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-setuid}]{\setlength{\rightskip}{0pt plus 5cm}uid\_\-t {\bf buddy\_\-setuid}}\label{buddy_8c_a2ef8d11cc4ac2862fbe8ce2112e2e4fb}


Referenced by buddy\_\-init(), buddy\_\-setreguid(), and opt\_\-parse().

\index{buddy.c@{buddy.c}!buddy\_\-shutdown@{buddy\_\-shutdown}}
\index{buddy\_\-shutdown@{buddy\_\-shutdown}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-shutdown}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf buddy\_\-shutdown} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a9617826c673a1b5913121735ec530410}


Referenced by buddy\_\-event\_\-loop(), buddy\_\-handle\_\-command(), buddy\_\-handle\_\-flags(), phone\_\-home\_\-if\_\-appropriate(), and sa\_\-sigaction\_\-func().

\index{buddy.c@{buddy.c}!buddy\_\-sockaddr@{buddy\_\-sockaddr}}
\index{buddy\_\-sockaddr@{buddy\_\-sockaddr}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-sockaddr}]{\setlength{\rightskip}{0pt plus 5cm}struct sockaddr\_\-un {\bf buddy\_\-sockaddr} = \{ 0 \}\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_ac6fd0c340d369754b0ba41080c21377d}


Referenced by buddy\_\-accept(), buddy\_\-init\_\-socket(), and buddy\_\-phone\_\-home().

\index{buddy.c@{buddy.c}!buddy\_\-sockaddr\_\-len@{buddy\_\-sockaddr\_\-len}}
\index{buddy\_\-sockaddr\_\-len@{buddy\_\-sockaddr\_\-len}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-sockaddr\_\-len}]{\setlength{\rightskip}{0pt plus 5cm}socklen\_\-t {\bf buddy\_\-sockaddr\_\-len} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a7f4dab67028a885153a9ec78d40f9a48}


Referenced by buddy\_\-accept(), buddy\_\-init\_\-socket(), and buddy\_\-phone\_\-home().

\index{buddy.c@{buddy.c}!buddy\_\-sockfd@{buddy\_\-sockfd}}
\index{buddy\_\-sockfd@{buddy\_\-sockfd}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-sockfd}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf buddy\_\-sockfd} = -\/1\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_ab8ae7575757371a277bb048389ca9f84}


Referenced by buddy\_\-accept(), buddy\_\-build\_\-fd\_\-set(), buddy\_\-event\_\-loop(), buddy\_\-init(), and buddy\_\-init\_\-socket().

\index{buddy.c@{buddy.c}!buddy\_\-string\_\-buf@{buddy\_\-string\_\-buf}}
\index{buddy\_\-string\_\-buf@{buddy\_\-string\_\-buf}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-string\_\-buf}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf buddy\_\-string\_\-buf}[BUDDY\_\-MAX\_\-PATH\_\-LEN] = \char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a12b4e74d3f481815831cbeb5cde0d996}


Referenced by buddy\_\-exec\_\-action(), buddy\_\-path(), buddy\_\-phone\_\-home(), and resolve\_\-symlink().

\index{buddy.c@{buddy.c}!buddy\_\-uuid@{buddy\_\-uuid}}
\index{buddy\_\-uuid@{buddy\_\-uuid}!buddy.c@{buddy.c}}
\subsubsection[{buddy\_\-uuid}]{\setlength{\rightskip}{0pt plus 5cm}{\bf upk\_\-uuid\_\-t} {\bf buddy\_\-uuid}}\label{buddy_8c_a3e9321d881ca257289c65b5022b693c8}


Referenced by opt\_\-parse().

\index{buddy.c@{buddy.c}!chld\_\-terminated@{chld\_\-terminated}}
\index{chld\_\-terminated@{chld\_\-terminated}!buddy.c@{buddy.c}}
\subsubsection[{chld\_\-terminated}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf chld\_\-terminated} = false\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_ac7d1b197ce100f66f7fd13dc10b94154}


Referenced by buddy\_\-handle\_\-flags(), and sa\_\-sigaction\_\-func().

\index{buddy.c@{buddy.c}!desired\_\-state@{desired\_\-state}}
\index{desired\_\-state@{desired\_\-state}!buddy.c@{buddy.c}}
\subsubsection[{desired\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}{\bf buddy\_\-runstate\_\-t} {\bf desired\_\-state} = BUDDY\_\-STOPPED\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a05901f7b8d5bf031b62c57221a69bff3}


Referenced by buddy\_\-handle\_\-command(), buddy\_\-handle\_\-flags(), and buddy\_\-record\_\-state().

\index{buddy.c@{buddy.c}!force\_\-ratelimit@{force\_\-ratelimit}}
\index{force\_\-ratelimit@{force\_\-ratelimit}!buddy.c@{buddy.c}}
\subsubsection[{force\_\-ratelimit}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf force\_\-ratelimit} = false\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a3e2d3cd0fd4a7c47cc37451ae453bf29}


Referenced by buddy\_\-handle\_\-flags(), and buddy\_\-start\_\-proc().

\index{buddy.c@{buddy.c}!highest\_\-fd@{highest\_\-fd}}
\index{highest\_\-fd@{highest\_\-fd}!buddy.c@{buddy.c}}
\subsubsection[{highest\_\-fd}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf highest\_\-fd} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a15129627630d61eba3b083241572c781}


Referenced by buddy\_\-event\_\-loop(), read\_\-ctrl(), and write\_\-ctrl().

\index{buddy.c@{buddy.c}!info\_\-ringbuffer@{info\_\-ringbuffer}}
\index{info\_\-ringbuffer@{info\_\-ringbuffer}!buddy.c@{buddy.c}}
\subsubsection[{info\_\-ringbuffer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf buddy\_\-info\_\-t}$\ast$ {\bf info\_\-ringbuffer} = NULL\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a5a216a38f05caa35201f9382808984b9}


Referenced by buddy\_\-flush\_\-ringbuffer().

\index{buddy.c@{buddy.c}!last\_\-command@{last\_\-command}}
\index{last\_\-command@{last\_\-command}!buddy.c@{buddy.c}}
\subsubsection[{last\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}{\bf buddy\_\-cmnd\_\-t} {\bf last\_\-command} = UPK\_\-CTRL\_\-NONE\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_afac02348ed45a2ad675379a8ca104518}


Referenced by buddy\_\-handle\_\-command(), and buddy\_\-record\_\-state().

\index{buddy.c@{buddy.c}!nanotimeout@{nanotimeout}}
\index{nanotimeout@{nanotimeout}!buddy.c@{buddy.c}}
\subsubsection[{nanotimeout}]{\setlength{\rightskip}{0pt plus 5cm}struct timespec {\bf nanotimeout} = \{.tv\_\-sec = BUDDY\_\-RETRY\_\-TIMEOUT\_\-SEC,.tv\_\-nsec = BUDDY\_\-RETRY\_\-TIMEOUT\_\-NSEC \}\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a0aa2ef11dabd8b068b1725e8a94c92cb}


Referenced by buddy\_\-stop\_\-proc(), and phone\_\-home\_\-if\_\-appropriate().

\index{buddy.c@{buddy.c}!ncount@{ncount}}
\index{ncount@{ncount}!buddy.c@{buddy.c}}
\subsubsection[{ncount}]{\setlength{\rightskip}{0pt plus 5cm}size\_\-t {\bf ncount} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_af750bbadf6e7e222f8d8b062e8696dd0}


Referenced by read\_\-ctrl(), and write\_\-ctrl().

\index{buddy.c@{buddy.c}!proc\_\-envp@{proc\_\-envp}}
\index{proc\_\-envp@{proc\_\-envp}!buddy.c@{buddy.c}}
\subsubsection[{proc\_\-envp}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$$\ast$ {\bf proc\_\-envp} = NULL}\label{buddy_8c_adcfeefdfcc71ba2dc2cddac18f4dcb4d}


Referenced by buddy\_\-exec\_\-action(), and main().

\index{buddy.c@{buddy.c}!proc\_\-pid@{proc\_\-pid}}
\index{proc\_\-pid@{proc\_\-pid}!buddy.c@{buddy.c}}
\subsubsection[{proc\_\-pid}]{\setlength{\rightskip}{0pt plus 5cm}pid\_\-t {\bf proc\_\-pid} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_aa13c9951e918940d6f11d8ea9c2f4546}


Referenced by buddy\_\-cleanup(), buddy\_\-exec\_\-action(), buddy\_\-handle\_\-command(), buddy\_\-record\_\-state(), buddy\_\-reload\_\-proc(), buddy\_\-start\_\-proc(), buddy\_\-stop\_\-proc(), deserial\_\-svcinfo\_\-data(), sa\_\-sigaction\_\-func(), and serial\_\-svcinfo\_\-data().

\index{buddy.c@{buddy.c}!randomize\_\-ratelimit@{randomize\_\-ratelimit}}
\index{randomize\_\-ratelimit@{randomize\_\-ratelimit}!buddy.c@{buddy.c}}
\subsubsection[{randomize\_\-ratelimit}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf randomize\_\-ratelimit} = false}\label{buddy_8c_ac77b45e275dcc4a554fd495516deaa04}
\index{buddy.c@{buddy.c}!rapid\_\-respawn\_\-count@{rapid\_\-respawn\_\-count}}
\index{rapid\_\-respawn\_\-count@{rapid\_\-respawn\_\-count}!buddy.c@{buddy.c}}
\subsubsection[{rapid\_\-respawn\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t {\bf rapid\_\-respawn\_\-count} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_ae618973dea04a018a21366805669ca73}


Referenced by buddy\_\-start\_\-proc().

\index{buddy.c@{buddy.c}!reconnect\_\-retries@{reconnect\_\-retries}}
\index{reconnect\_\-retries@{reconnect\_\-retries}!buddy.c@{buddy.c}}
\subsubsection[{reconnect\_\-retries}]{\setlength{\rightskip}{0pt plus 5cm}long {\bf reconnect\_\-retries} = 5}\label{buddy_8c_a5d96c4625ef6fb62b61353fd2766b0d9}


Referenced by opt\_\-parse(), and phone\_\-home\_\-if\_\-appropriate().

\index{buddy.c@{buddy.c}!respawn\_\-timestamp@{respawn\_\-timestamp}}
\index{respawn\_\-timestamp@{respawn\_\-timestamp}!buddy.c@{buddy.c}}
\subsubsection[{respawn\_\-timestamp}]{\setlength{\rightskip}{0pt plus 5cm}time\_\-t {\bf respawn\_\-timestamp} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a585a8d637b449525b158a160771fb4b1}


Referenced by buddy\_\-handle\_\-flags(), and buddy\_\-start\_\-proc().

\index{buddy.c@{buddy.c}!ringbuffer\_\-pending@{ringbuffer\_\-pending}}
\index{ringbuffer\_\-pending@{ringbuffer\_\-pending}!buddy.c@{buddy.c}}
\subsubsection[{ringbuffer\_\-pending}]{\setlength{\rightskip}{0pt plus 5cm}size\_\-t {\bf ringbuffer\_\-pending} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_af9029329735214e89a6493415ea518d8}


Referenced by buddy\_\-flush\_\-ringbuffer(), buddy\_\-record\_\-state(), buddy\_\-zero\_\-info(), and phone\_\-home\_\-if\_\-appropriate().

\index{buddy.c@{buddy.c}!ringbuffer\_\-size@{ringbuffer\_\-size}}
\index{ringbuffer\_\-size@{ringbuffer\_\-size}!buddy.c@{buddy.c}}
\subsubsection[{ringbuffer\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}size\_\-t {\bf ringbuffer\_\-size} = 32}\label{buddy_8c_aaf0b4e8526897974d594cc330ece0b5c}


Referenced by buddy\_\-free\_\-ringbuffer(), buddy\_\-init\_\-ringbuffer(), buddy\_\-record\_\-state(), main(), opt\_\-parse(), and phone\_\-home\_\-if\_\-appropriate().

\index{buddy.c@{buddy.c}!sockopts@{sockopts}}
\index{sockopts@{sockopts}!buddy.c@{buddy.c}}
\subsubsection[{sockopts}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf sockopts} = 0\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a96887378de19e365e512e218277030e4}


Referenced by buddy\_\-accept(), and upk\_\-net\_\-add\_\-socket\_\-handle().

\index{buddy.c@{buddy.c}!this\_\-command@{this\_\-command}}
\index{this\_\-command@{this\_\-command}!buddy.c@{buddy.c}}
\subsubsection[{this\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}{\bf buddy\_\-cmnd\_\-t} {\bf this\_\-command} = UPK\_\-CTRL\_\-NONE\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a398354ab30be5dc1e885373b075798c8}


Referenced by buddy\_\-event\_\-loop(), buddy\_\-flush\_\-ringbuffer(), and buddy\_\-handle\_\-command().

\index{buddy.c@{buddy.c}!timeout@{timeout}}
\index{timeout@{timeout}!buddy.c@{buddy.c}}
\subsubsection[{timeout}]{\setlength{\rightskip}{0pt plus 5cm}struct timeval {\bf timeout} = \{.tv\_\-sec = BUDDY\_\-SELECT\_\-TIMEOUT\_\-SEC,.tv\_\-usec = BUDDY\_\-SELECT\_\-TIMEOUT\_\-USEC \}\hspace{0.3cm}{\ttfamily  [static]}}\label{buddy_8c_a03a5df464f7f59f8fe9f8da62642ce06}


Referenced by buddy\_\-event\_\-loop(), read\_\-ctrl(), and write\_\-ctrl().

\index{buddy.c@{buddy.c}!user\_\-ratelimit@{user\_\-ratelimit}}
\index{user\_\-ratelimit@{user\_\-ratelimit}!buddy.c@{buddy.c}}
\subsubsection[{user\_\-ratelimit}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t {\bf user\_\-ratelimit} = 0}\label{buddy_8c_ae27137b4c4b5c8be0a91356bfab19ee1}
